(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[305],{26019:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return W},default:function(){return $}});var r=n(69843),a=n(11187),o=n(27812),c=n(50029),i=n(92777),s=n(82262),l=n(45959),u=n(63553),p=n(37247),d=n(87794),f=n.n(d),h=n(67294),g=n(74253),v=n(41664),m=n.n(v),y=n(27484),_=n.n(y),b=n(13632),j=n.n(b),x=n(85893);function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var a=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var k=function(e){(0,l.Z)(n,e);var t=N(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleConfirm=function(){var t=e.props,n=t.onDelete,r=t.data;n&&n(r.id)},e.renderMetaInfo=function(){var t=e.props.data,n=[];return n.push("\u53d1\u5e03\u4e8e: ".concat(_()(t.createTime).format("YYYY-MM-DD"))),Array.isArray(t.tags)&&t.tags.length&&n.push("\u6807\u7b7e: ".concat(t.tags.join("\uff0c"))),n.map((function(e,t){return t===n.length-1?e:(0,x.jsxs)(x.Fragment,{children:[e,(0,x.jsx)(g.Z,{type:"vertical"})]})}))},e}return(0,s.Z)(n,[{key:"render",value:function(){var e=this.props.data;return(0,x.jsx)("div",{className:j().card,style:this.props.style||{},children:(0,x.jsx)(m(),{href:"/blogs/".concat(e.id),passHref:!0,children:(0,x.jsxs)("a",{target:"_blank",title:e.name,rel:"bookmark",children:[(0,x.jsx)("div",{className:j()["repo-header"],children:(0,x.jsx)("h1",{className:j()["repo-title"],children:e.name})}),(0,x.jsx)("p",{className:j()["repo-desc"],children:e.description||e.content.substr(0,400)}),(0,x.jsxs)("div",{className:j()["repo-meta"],children:[(0,x.jsx)("div",{className:j()["info-block"],children:this.renderMetaInfo()}),(0,x.jsx)("div",{children:(0,x.jsx)("span",{className:j()["info-block"]})})]})]})})})}}]),n}(h.Component),w=k,S=n(59499);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(e){var t=function(e){var t;return e?O(O({},e),{},{tags:null!==(t=null===e||void 0===e?void 0:e.tags)&&void 0!==t?t:[],description:e.description?e.description:C(e.content?e.content.substr(0,200):"")}):{}}(e);return t.content="",t};function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=(e=e||"").replace(/```/g,"").replace(/`/g,"").replace(/#/g,"").replace(/\/\//g,"").replace("> ","").replace(/\*\*/g,"")}var R=n(25655),I={getArticleList:function(){var e=(0,c.Z)(f().mark((function e(){var t,n,r,a,o,c=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},n=t.pageNo,r=void 0===n?1:n,a=t.pageSize,o=void 0===a?10:a,e.next=3,(0,R.ZP)({method:"post",url:"graphql/checkless/list",data:{query:"{\n                Article(pageNo: ".concat(r,", pageSize: ").concat(o,', sorts: "-updateTime,-createTime") {\n                  data {\n                    id\n                    name\n                    description\n                    content\n                    isDeleted\n                    createTime\n                    updateTime\n                    likeCount\n                    viewCount\n                    operatorID\n                    tags\n                    creativeType\n                    operator {\n                      id\n                      name\n                    }\n                  }\n                  count\n                  pageSize,\n                  pageNo\n                }\n              }\n              ')}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getLatestArticleList:function(){var e=(0,c.Z)(f().mark((function e(){var t,n,r,a,o,c=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},n=t.pageNo,r=void 0===n?1:n,a=t.pageSize,o=void 0===a?10:a,e.next=3,(0,R.ZP)({method:"post",url:"graphql/checkless/list",data:{query:"{\n                Article(pageNo: ".concat(r,", pageSize: ").concat(o,', sorts: "-createTime") {\n                  data {\n                    id\n                    name\n                  }\n                }\n              }\n              ')}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getChecklessArticle:function(){var e=(0,c.Z)(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.ZP)({method:"post",url:"/graphql/checkless",data:{query:'{\n          Article(id: "'.concat(t,'") {\n            id\n            name\n            content\n            category {\n              id\n              name\n            }\n            description\n            isDeleted\n            createTime\n            updateTime\n            likeCount\n            viewCount\n            operatorID\n            tags\n            headerImg\n            creativeType\n            operator {\n              id\n              name\n              avatar\n              description\n              github\n            }\n          }\n        }\n        ')}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getLatestArticleListByOperator:function(){var e=(0,c.Z)(f().mark((function e(){var t,n,r,a,o,c,i=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},n=t.pageNo,r=void 0===n?1:n,a=t.pageSize,o=void 0===a?5:a,c=t.operatorID,e.next=3,(0,R.ZP)({method:"post",url:"graphql/checkless/list",data:{query:"{\n                Article(pageNo: ".concat(r,", pageSize: ").concat(o,', sorts: "-createTime", queryStr: "operator.id ValueType.eq \'').concat(c,"'\") {\n                  data {\n                    id\n                    name\n                  }\n                }\n              }\n              ")}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},P=n(45578),z=n.n(P),D=n(23279),T=n.n(D),q=n(85747),B=n.n(q),M=n(67457),L=n.n(M),E=(0,h.memo)((function(e){var t=e.list,n=void 0===t?[]:t;return(0,x.jsxs)("div",{className:L()["latest-article"],children:[(0,x.jsx)("h3",{className:L()["latest-article-header"],children:"\u6700\u65b0\u6587\u7ae0"}),(0,x.jsx)("div",{className:L()["latest-article-list"],children:n.map((function(e){return(0,x.jsx)(m(),{href:"/blogs/".concat(e.id),passHref:!0,children:(0,x.jsx)("a",{target:"_blank",className:L().article,title:e.name,children:e.name})},e.id)}))})]})})),H=n(20615),J=n.n(H),Y=(0,h.memo)((function(){return(0,x.jsxs)("div",{className:J().siteInfo,children:[(0,x.jsx)("div",{className:J()["siteInfo-item"],children:"\u90ae\u7bb1\uff1a1061225829@qq.com"}),(0,x.jsx)("div",{className:J()["siteInfo-item"],children:"\u8700ICP\u590719030923\u53f7-1"}),(0,x.jsx)("div",{className:J()["siteInfo-item"],children:"Copyright \xa9 2022 All Rights Reserved."})]})})),V=n(80129),X=n.n(V),F=n(11163),G=n(4298),K=n.n(G);function Q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var a=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var U=function(e){(0,l.Z)(n,e);var t=Q(n);function n(e){var r;(0,i.Z)(this,n),(r=t.call(this,e)).contentRef=(0,h.createRef)(),r.listRef=(0,h.createRef)(),r.handleScroll=T()((function(e){var t=r.state,n=t.loading,a=t.count,o=t.blogs,c=void 0===o?[]:o,i=document.getElementById("layout");n||c.length===a||Math.ceil(i.clientHeight+i.scrollTop)>=i.scrollHeight&&r.handlePageChange()}),100),r.handlePageChange=(0,c.Z)(f().mark((function e(){var t,n,c,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({loading:!0}),e.prev=1,t=r.state.pageSize,n=r.state.current+1,e.next=6,I.getArticleList({pageNo:n,pageSize:t});case 6:c=e.sent,i=c.data.Article.data.map((function(e){return A(e)})),r.setState({blogs:z()([].concat((0,o.Z)(r.state.blogs),(0,o.Z)(i)),"id"),current:n,pageNo:c.data.Article.pageNo,count:c.data.Article.count,pageSize:c.data.Article.pageSize}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),a.default.error(e.t0.toString());case 14:return e.prev=14,r.setState({loading:!1}),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),r.onChange=function(e){window.open("".concat(location.pathname,"?current=").concat(e),"_self")};e.router;var s=e.router.asPath,l=X().parse(s.split("?")[1]);return r.state={pageSize:r.props.pageSize||10,pageNo:r.props.pageNo||0,loading:!1,current:l.current?Number(l.current):1},r}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.blogs,n=void 0===t?[]:t,a=e.latestBlogs,o=void 0===a?[]:a,c=this.state,i=c.current,s=c.pageSize,l=n.slice((i-1)*s,i*s);return(0,x.jsxs)("div",{className:B().blog,children:[(0,x.jsxs)("div",{className:B()["blog-content"],ref:this.contentRef,children:[l.map((function(e){return(0,x.jsx)(w,{data:e},e.id)})),(0,x.jsx)(K(),{src:"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6887995008287565",crossOrigin:"anonymous",strategy:"lazyOnload"}),(0,x.jsx)("ins",{className:"adsbygoogle",style:{display:"block",height:"100px"},"data-ad-format":"fluid","data-ad-layout-key":"-fb+5w+4e-db+86","data-ad-client":"ca-pub-6887995008287565","data-ad-slot":"7687416506"}),(0,x.jsx)("div",{className:B().pagination,children:(0,x.jsx)(r.Z,{showQuickJumper:!0,showSizeChanger:!1,current:i,total:n.length,onChange:this.onChange})})]}),(0,x.jsxs)("div",{className:B()["blog-sidebar"],children:[(0,x.jsx)(E,{list:o}),(0,x.jsx)(Y,{})]})]})}}]),n}(h.Component),W=!0,$=(0,F.withRouter)(U)},13632:function(e){e.exports={card:"style_card__JoJfp","repo-pic":"style_repo-pic__oNii0","repo-header":"style_repo-header__897pc","repo-type":"style_repo-type__jORkS","repo-title":"style_repo-title__2TdDF","repo-desc":"style_repo-desc__lVuzw","repo-meta":"style_repo-meta__12Inj","info-block":"style_info-block__WSuVj",actions:"style_actions__XU5_j"}},67457:function(e){e.exports={"latest-article":"style_latest-article__5TcrY","latest-article-header":"style_latest-article-header__fhJqn","latest-article-list":"style_latest-article-list__hBA_N",article:"style_article__GwEJM"}},20615:function(e){e.exports={siteInfo:"style_siteInfo__yCwtp","siteInfo-item":"style_siteInfo-item__bXDHI",beian:"style_beian__KABOj"}},85747:function(e){e.exports={blog:"style_blog__LBgeM","blog-content":"style_blog-content__Q9Sod","blog-sidebar":"style_blog-sidebar__jXdoM",pagination:"style_pagination__7KVNe"}},24654:function(){}}]);